<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
    <head>
        <title>testing php</title>
        <meta charset="utf-8">
        <script defer src="js/validation.js"></script>
    </head>

    <style>
        #inputBlock{
            background-color: #ddd;
            ;
        }
        #xBlock{
            float: inside;
            border-color: black;
            width: 80%;
            margin-left: 40%;
        }
        #R{
            float: right;
        }
        #yField{
            float: left;
        }
        /*#hat{*/
        /*    border-left: 80px;*/
        /*    margin-left: 80%;*/
        /*    font-size: large;*/
        /*}*/
        /*#xBlock{*/
        /*    margin-left: 30%;*/
        /*    !*margin-right: 20%;*!*/
        /*    font-size: large;*/
        /*    color: brown;*/
        /*    text-align: center;*/
        /*}*/
        /*#R{*/
        /*    margin-left: 20%;*/
        /*}*/
    </style>

    <body>
        <div id = "hat">
            <h2>Я малолетний дебил</h2>
        </div>
        <h2>Введи свои данные:</h2>
        <img src="imgs/img.png">
        <div id="inputBlock">
            <div id="yBlock">
                <p><label for="yField">Введите y</label></p>
                <input id="yField" type="text" placeholder="input y plz">
            </div>
            <div id="R">
                <p>R</p>
                <select id="R_select">
                    <option>1</option>
                    <option>1.5</option>
                    <option>2</option>
                    <option>2.5</option>
                    <option>3</option>
                </select>
            </div>

            <div id="xBlock">
                Текущий x:
                <div id="currX"><p>0</p></div>
                <div id="xButtons">
                    <p>Введите х</p>
                    <button name="x" value="-3" onclick="setX(this)">-3</button>
                    <p>
                        <button name="x" value="1" onclick="setX(this)">1</button>
                    </p>
                    <button name="x" value="-2" onclick="setX(this)">-2</button>
                    <button name="x" value="-1" onclick="setX(this)">-1</button>
                    <button name="x" value="0" onclick="setX(this)">0</button>
                    <button name="x" value="2" onclick="setX(this)">2</button>
                    <button name="x" value="3" onclick="setX(this)">3</button>
                    <button name="x" value="4" onclick="setX(this)">4</button>
                    <button name="x" value="5" onclick="setX(this)">5</button>

                    <script>
                        function setX(btn) {
                            document.getElementById("currX").textContent = btn.value
                        }
                    </script>
                </div>
            </div>

            <div id="submit">
                <button disabled="disabled" id="submitButton" onclick="submit()">submit</button>
            </div>
        </div>
        <br>
        <button id="test" onclick="test()">test</button>
        <p><button onclick="row()">add row</button></p>
        <script defer>
            function row(){
                let table = document.getElementById("table");
                console.log(table)
                let row = table.insertRow();
                let cell = row.insertCell();
                cell.innerText = "aboa"
                let insertCell = row.insertCell();
                insertCell.innerText = "aboa"
        }</script>
        <div id="tableBlock">
            <table id="table">
                <tr>
                    <td>attempt</td>
                    <td>R</td>
                    <td>X</td>
                    <td>Y</td>
                    <td>hit</td>
                    <td>time</td>
                    <td>script time</td>
                </tr>
            </table>
        </div>
    </body>
    <!-- getting data from php and draw row -->
<!--    TODO убрать функции в отдельный файл-->
<!--    <script>-->
<!--        function submit(){-->
<!--            let xhr = new XMLHttpRequest();-->
<!--            let R_select = document.getElementById("R_select");-->
<!--            const r = R_select.options[R_select.selectedIndex].text;-->
<!--            console.log(r);-->
<!--            const y = parseFloat(document.getElementById("yField").value)-->
<!--            console.log("y = " + y)-->
<!--            const x = document.getElementById("currX").textContent-->
<!--            xhr.open("GET", "php/onHit.php?R=" + r + "&Y=" + y + "&X=" + x);-->
<!--            xhr.send();-->
<!--            xhr.onload = function (){-->
<!--                let json = JSON.parse(xhr.responseText);-->
<!--                let attempt = parseInt(sessionStorage.getItem("attempt")) + 1-->
<!--                sessionStorage.setItem("attempt",attempt)-->
<!--                createRow(attempt, r, x, y, json.hit, json.date, json.scriptTime)-->
<!--            }-->
<!--        }-->

<!--        function createRow(attempt, R, X, Y, hit, time, scriptTime){-->
<!--            let table = document.getElementById("table");-->
<!--            let row = table.insertRow();-->
<!--            row.insertCell().innerText = attempt;-->
<!--            row.insertCell().textContent = R-->
<!--            row.insertCell().textContent = X-->
<!--            row.insertCell().textContent = Y-->
<!--            row.insertCell().textContent = hit-->
<!--            row.insertCell().textContent = time-->
<!--            row.insertCell().textContent = scriptTime-->
<!--        }-->
<!--    </script>-->
<script defer src="js/test.js"></script>
<script defer src="js/submit.js"></script>
</html>